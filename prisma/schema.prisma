// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  id       Int    @id @default(autoincrement())
  username String
}

model Location {
  id      Int     @id @default(autoincrement())
  name    String
  address String
  guests  Guest[]
}

model Guest {
  id           Int         @id @default(autoincrement())
  firstName    String
  lastName     String
  fullName     String      @map("concat(first_name, ' ', last_name)")
  notes        String?
  checkedInAt  DateTime    @default(now())
  checkedOutAt DateTime?
  guestStatus  GuestStatus
  location     Location    @relation(fields: [locationId], references: [id])
  locationId   Int
}

enum GuestStatus {
  CHECKED_IN
  ON_PREMISES
  CHECKED_OUT
}
